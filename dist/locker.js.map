{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 491e4891fbcb4dac2783","webpack:///./src/DriverTypes.ts","webpack:///./src/helpers.ts","webpack:///external \"@angular/core\"","webpack:///./src/Driver.ts","webpack:///./src/LockerConfig.ts","webpack:///./src/Locker.ts","webpack:///./src/PolyfillDriver.ts","webpack:///./src/Locker.module.ts","webpack:///./src/Cookie.ts","webpack:///./src/CookieStorage.ts","webpack:///./src/MemoryStorage.ts","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"locker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-safeguard\"] = factory(require(\"@angular/core\"));\n\telse\n\t\troot[\"angular-safeguard\"] = factory(root[\"@angular/core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 491e4891fbcb4dac2783","import {Injectable, OpaqueToken} from '@angular/core'\n\nimport {PollyfillDriver} from './PolyfillDriver'\nimport {Driver} from './Driver'\nimport {MemoryStorage} from './MemoryStorage'\nimport {CookieStorage} from './CookieStorage'\nimport {DriverType} from './metadata'\n\nexport const enum DRIVERS {\n  LOCAL,\n  SESSION,\n  MEMORY,\n  COOKIE\n}\n\n@Injectable()\nexport class LocalStorageDriver implements DriverType {\n  public storage = new PollyfillDriver(localStorage)\n  public type = DRIVERS.LOCAL\n}\n\n@Injectable()\nexport class SessionStorageDriver implements DriverType {\n  public storage = new PollyfillDriver(sessionStorage)\n  public type = DRIVERS.SESSION\n}\n\n@Injectable()\nexport class MemoryStorageDriver implements DriverType {\n  public storage = new PollyfillDriver(new MemoryStorage())\n  public type = DRIVERS.MEMORY\n}\n\n@Injectable()\nexport class CookieStorageDriver implements DriverType {\n  public storage = new Driver(new CookieStorage())\n  public type = DRIVERS.COOKIE\n}\n\nexport const LOCKER_DRIVER_TYPES = new OpaqueToken('LOCKER_DRIVER_TYPES')\n\nexport const DRIVER_TYPES_PROVIDERS = [{\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: LocalStorageDriver\n}, {\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: SessionStorageDriver\n}, {\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: MemoryStorageDriver\n}, {\n  provide: LOCKER_DRIVER_TYPES,\n  multi: true,\n  useValue: CookieStorageDriver\n}]\n\n\n\n// WEBPACK FOOTER //\n// ./src/DriverTypes.ts","import {IStorageSetConfig, ExpiryData} from './metadata'\n\n// Convenience\nexport function encode(str: string): string {\n  return encodeURIComponent(str)\n}\n\nexport function decode(str: string): string {\n  return decodeURIComponent(str)\n}\n\nexport const COOKIE_SEP = '; '\n\nexport function isInPast(date: Date): boolean {\n  return date <= new Date()\n}\n\nexport function isString(str: string|Date): boolean {\n  return typeof str === 'string'\n}\n\nexport function toString(obj: any): string {\n  return typeof obj.toUTCString === 'function' ? obj.toUTCString() : obj.toString()\n}\n\nexport function isNil(item: any) {\n  return item === undefined || item === null\n}\n\nexport function isNumber(item: any) {\n  return typeof item === 'number'\n}\n\nexport function isExpired(data: ExpiryData): boolean {\n  if (!data.config)\n    return false\n\n  const {expires} = data.config\n\n  if (!expires)\n    return false\n\n\n  return isInPast(expires instanceof Date ? expires : new Date(expires))\n}\n\nexport function is(ctor, value): boolean {\n  return value &&\n         value.constructor === ctor ||\n         value instanceof ctor\n}\n\nexport function convertFromJSON(data: any): any {\n  if (typeof data !== 'string') {\n    return data\n  } else {\n    try {\n      return JSON.parse(data)\n    } catch (e) {\n      return data\n    }\n  }\n}\n\nexport function serializeDataToString(data: any): string {\n  return typeof data === 'object' ? JSON.stringify(data) : data.toString()\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 2\n// module chunks = 0","declare const __DEV__: boolean, __TEST__: boolean\n\nimport {IStorageSetConfig, IWebStorage, ICustomStorage} from './metadata'\nimport {convertFromJSON, serializeDataToString} from './helpers'\n\nconst LOCKER_TEST_KEY = 'LOCKER_TEST_KEY'\n\nexport class Driver {\n  constructor(public storage: IWebStorage|ICustomStorage) {}\n\n  public set(key: string, data: any, config?: IStorageSetConfig): void {\n    this.storage.setItem(key, serializeDataToString(data), config)\n  }\n\n  public get(key: string): any {\n    return convertFromJSON(this.storage.getItem(key))\n  }\n\n  public has(key: string): boolean {\n    const storage = <ICustomStorage>this.storage\n\n    return storage.hasItem ? storage.hasItem(key) : this.storage.hasOwnProperty(key)\n  }\n\n  public remove(key: string): void {\n    this.storage.removeItem(key)\n  }\n\n  public clear(): void {\n    this.storage.clear()\n  }\n\n  public key(index = 0): string {\n    return this.storage.key(index)\n  }\n\n  public isSupported(): boolean {\n    try {\n      this.storage.setItem(LOCKER_TEST_KEY, LOCKER_TEST_KEY)\n      this.storage.getItem(LOCKER_TEST_KEY)\n      this.storage.removeItem(LOCKER_TEST_KEY)\n    } catch (e) {\n      if (__DEV__ || __TEST__)\n        console.error(e)\n\n      return false\n    }\n\n    return true\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/Driver.ts","import {Inject, Injectable, OpaqueToken} from '@angular/core'\n\nimport {ILockerConfig} from './metadata'\nimport {DRIVERS} from './DriverTypes'\nimport {isNil} from './helpers'\n\nexport const LOCKER_USER_CONFIG = new OpaqueToken('LOCKER_USER_CONFIG')\n\nexport const USER_CONFIG_PROVIDER = {\n  provide: LOCKER_USER_CONFIG,\n  useValue: {\n    namespaceSeparator: ':',\n    driverFallback: DRIVERS.SESSION,\n    driverNamespace: ''\n  }\n}\n\n@Injectable()\nexport class LockerConfig {\n  public driverNamespace: string\n  public driverFallback: DRIVERS|DRIVERS[]\n  public namespaceSeparator: string\n\n  constructor(@Inject(LOCKER_USER_CONFIG) config: ILockerConfig) {\n    this.driverNamespace = !config || isNil(config.driverNamespace) ? '' : config.driverNamespace\n    this.driverFallback = !config || isNil(config.driverFallback) ? DRIVERS.SESSION : config.driverFallback\n    this.namespaceSeparator = !config || isNil(config.namespaceSeparator) ? ':' : config.namespaceSeparator\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/LockerConfig.ts","import {Injectable, Inject} from '@angular/core'\n\nimport {IStorageSetConfig, DriverType} from './metadata'\nimport {Driver} from './Driver'\nimport {DRIVERS, LOCKER_DRIVER_TYPES} from './DriverTypes'\nimport {LockerConfig} from './LockerConfig'\n\n@Injectable()\nexport class Locker {\n  private driverFallback: DRIVERS|DRIVERS[]\n  private namespace: string\n  private separator: string\n\n  constructor(@Inject(LOCKER_DRIVER_TYPES) public driverTypes: DriverType[], public lockerConfig: LockerConfig) {\n    this.setNamespace()\n    this.setSeparator()\n    this.setDriverFallback()\n  }\n\n  public setNamespace(namespace: string = this.lockerConfig.driverNamespace) {\n    this.namespace = namespace\n  }\n\n  public setSeparator(separator: string = this.lockerConfig.namespaceSeparator) {\n    this.separator = separator\n  }\n\n  public setDriverFallback(driverFallback: DRIVERS|DRIVERS[] = this.lockerConfig.driverFallback) {\n    this.driverFallback = driverFallback\n  }\n\n  public set(type: DRIVERS, key, data, config?: IStorageSetConfig) {\n    this._getDriver(type).set(this._makeKey(key), data, config)\n  }\n\n  public get(type: DRIVERS, key) {\n    return this._getDriver(type).get(this._makeKey(key))\n  }\n\n  public has(type: DRIVERS, key) {\n    return this._getDriver(type).has(this._makeKey(key))\n  }\n\n  public remove(type: DRIVERS, key) {\n    this._getDriver(type).remove(this._makeKey(key))\n  }\n\n  public key(type: DRIVERS, index?) {\n    return this._decodeKey(this._getDriver(type).key(index))\n  }\n\n  public clear(type: DRIVERS) {\n    this._getDriver(type).clear()\n  }\n\n  private _makeKey(key: string): string {\n    return this.namespace ? `${this.namespace}${this.separator}${key}` : key\n  }\n\n  private _decodeKey(key: string): string {\n    if (this.namespace)\n      return key.slice(this.namespace.length + this.separator.length)\n    else\n      return key\n  }\n\n  private _getDriver(type: DRIVERS): Driver {\n    const askedDriver = this._getDriverType(type)\n\n    if (askedDriver && askedDriver.storage.isSupported())\n      return askedDriver.storage\n    else\n      return this._getFallbackDriverType().storage\n  }\n\n  private _getDriverType(type: DRIVERS): DriverType {\n    return this.driverTypes.find(driverType => driverType.type === type)\n  }\n\n  private _getFallbackDriverType(): DriverType {\n    if (Array.isArray(this.driverFallback)) {\n      return this.driverFallback\n        .map((type) => this._getDriverType(type))\n        .find(driverType => driverType.storage.isSupported()) || this._getDriverType(DRIVERS.MEMORY)\n    } else if (this.driverFallback) {\n      const driverType = this._getDriverType(this.driverFallback)\n\n      return driverType.storage.isSupported() ? driverType : this._getDriverType(DRIVERS.MEMORY)\n    } else {\n      return this._getDriverType(DRIVERS.MEMORY)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Locker.ts","import {Driver} from './Driver'\nimport {serializeDataToString, convertFromJSON, isExpired} from './helpers'\nimport {IStorageSetConfig, ICustomStorage} from './metadata'\n\n// This driver is a special driver to handle expiry and other options (similar to cookies)\n// stores data as {data: myData, config: {expiry: new Date()}}\nexport class PollyfillDriver extends Driver {\n  public set(key: string, data: any, config?: IStorageSetConfig): void {\n    this.storage.setItem(key, serializeDataToString({data, config}))\n  }\n\n  public get(key: string): any {\n    this._checkExpiry(key)\n\n    const data = convertFromJSON(this.storage.getItem(key))\n\n    return (data && Reflect.has(data, 'data')) ? data.data : data\n  }\n\n  public has(key: string): boolean {\n    this._checkExpiry(key)\n\n    const storage = <ICustomStorage>this.storage\n\n    return storage.hasItem ? storage.hasItem(key) : this.storage.hasOwnProperty(key)\n  }\n\n  public key(index = 0): string {\n    const key = this.storage.key(index)\n\n    this._checkExpiry(key)\n\n    return this.storage.key(index)\n  }\n\n  private _checkExpiry(key) {\n    const data = convertFromJSON(this.storage.getItem(key))\n\n    if (data && isExpired(data))\n      this.remove(key)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/PolyfillDriver.ts","import {NgModule, ModuleWithProviders} from '@angular/core'\n\nimport {Locker} from './Locker'\nimport {LockerConfig, USER_CONFIG_PROVIDER, LOCKER_USER_CONFIG} from './LockerConfig'\nimport {DRIVER_TYPES_PROVIDERS} from './DriverTypes'\nimport {ILockerConfig} from './metadata'\n\n@NgModule({\n  providers: [\n    Locker,\n    LockerConfig,\n    ...DRIVER_TYPES_PROVIDERS,\n    USER_CONFIG_PROVIDER\n  ]\n})\nexport class LockerModule {\n  public static withConfig(userConfig: ILockerConfig): ModuleWithProviders {\n    const config = {\n      provide: LOCKER_USER_CONFIG,\n      useValue: userConfig\n    }\n\n    return {\n      ngModule: LockerModule,\n      providers: [Locker, LockerConfig, ...DRIVER_TYPES_PROVIDERS, config]\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Locker.module.ts","import {IStorageSetConfig} from './metadata'\nimport {COOKIE_SEP, encode, decode, toString, isString, isNumber} from './helpers'\n\nexport const DEFAULT_CONFIG: IStorageSetConfig = {}\n\nexport class Cookie {\n  public static getAll(): Object {\n    return document.cookie\n      .split(COOKIE_SEP)\n      .filter(value => !!value)\n      .map(items => items.split('='))\n      .reduce((res, [key, value]) => (res[decode(key)] = decode(value), res), {})\n  }\n\n  public static get(key): any {\n    return this.getAll()[key]\n  }\n\n  public static set(key, value, config = DEFAULT_CONFIG): void {\n    const {secure, maxAge, domain, path, expires} = config\n\n    var cookie = `${encode(key)}=${encode(value)}`\n\n    if (secure)\n      cookie += ';secure'\n\n    if (isNumber(maxAge) && !isNaN(maxAge))\n      cookie += `;max-age=${maxAge}`\n\n    if (domain)\n      cookie += `;domain=${domain}`\n\n    if (path)\n      cookie += `;path=${path}`\n\n    if (expires)\n      cookie += `;expires=${isString(expires) ? expires : toString(expires)}`\n\n    document.cookie = cookie\n  }\n\n  public static remove(key) {\n    this.set(key, this.get(key), {maxAge: 0})\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Cookie.ts","import {ICustomStorage} from './metadata'\nimport {Cookie} from './Cookie'\n\nexport class CookieStorage implements ICustomStorage {\n  public hasItem(key) {\n    return <boolean>!!Cookie.get(key)\n  }\n\n  public getItem(key) {\n    return Cookie.get(key)\n  }\n\n  public setItem(key, value, config) {\n    Cookie.set(key, value, config)\n  }\n\n  public removeItem(key) {\n    Cookie.remove(key)\n  }\n\n  public clear() {\n    Object.keys(Cookie.getAll())\n      .forEach(key => Cookie.remove(key))\n  }\n\n  public key(index) {\n    var cookies = Object.keys(Cookie.getAll())\n\n    return cookies[index]\n  }\n\n  public get length() {\n    return Object.keys(Cookie.getAll()).length\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/CookieStorage.ts","import {ICustomStorage} from './metadata'\n\nconst _cache = new Map()\n\nconst getKeys = () => Array.from(_cache.keys())\n\nexport class MemoryStorage implements ICustomStorage {\n  public hasItem(key) {\n    return _cache.has(key)\n  }\n\n  public getItem(key) {\n    return _cache.get(key)\n  }\n\n  public setItem(key, value, config) {\n    _cache.set(key, value)\n  }\n\n  public removeItem(key) {\n    _cache.delete(key)\n  }\n\n  public clear() {\n    _cache.clear()\n  }\n\n  public key(index) {\n    return getKeys()[index]\n  }\n\n  public get length() {\n    return getKeys().length\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/MemoryStorage.ts","export * from './Driver'\nexport * from './PolyfillDriver'\nexport * from './Locker.module'\nexport * from './Locker'\nexport * from './DriverTypes'\nexport * from './metadata'\nexport * from './LockerConfig'\n\n// angular-cli\n// export default {\n//   ngModule: LockerModule,\n//   providers: [LockerConfig, Locker, USER_CONFIG_PROVIDER, ...DRIVER_TYPES_PROVIDERS]\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}